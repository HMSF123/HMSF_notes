---
title: 网络流笔记
updated: 2023-04-04 09:46:21Z
created: 2023-03-22 07:56:29Z
latitude: 35.10467400
longitude: 118.35641400
altitude: 0.0000
---

无源汇上下界可行流：

强行流完下限，然后整理。

1. 如果有一个点**进来的比出去的多**，那就强行塞给他这么多流量，如果能把塞进来的这部分流出去，那么撤掉塞的这一部分就合法了。

2. 如果有一个点**出去的比进来的多**，那就强行抢走它这么多流量，如果他能把抢走的这部分补回来，那么撤掉抢的这一部分就合法了。

所以建立一个超级源点 $S$ 和超级汇点 $T$，由 $S$ 向所有 1 类点连一条对应流量的边，由所有 2 类点向超级汇点连一条对应流量的边。跑最大流，如果连的这些边都能被流满，就构造出了合法方案。

有源汇上下界可行流：

有源汇本质上就是钦定一个点可以净流出，一个点可以净流入。

所以从汇点向源点加一条下限为零，上限正无穷的边，然后跑无源汇上下界可行流。

有源汇上下界最大流：

可行流本质上是求最大流时的一个阶段，所以先判是否无解（没有可行流），然后在可行流的基础上跑一次最大流。

最后把最大流加上求可行流时那条反向无穷边（$t\to s$）的流量就行了。

有源汇上下界最小流：

和刚刚的一样，不过我们把找最大流的过程改成从 $t$ 向 $s$ 找增广路用以退流就可以了。

最后仍然是用反向无穷边的流量减去这个反向最大流。

无源汇上下界最小费用可行流：

首先强制流满，初始费用设为 $b(u,v)\times w(u,v)$，然后按照调整上下界流的方法调整这张图，记得调整的过程中跑最小费用最大流。

有源汇上下界最小费用可行流：

和刚才一样，只不过多了一条费用为零的反向无穷边。

有源汇上下界最小费用最大流：

往刚刚的方法上面再套一层最小费用最大流。

带负环有源汇上下界最小费用最大流：

~~buff叠满流~~

负权边统一流满，费用加上，然后就是上面的问题了。
