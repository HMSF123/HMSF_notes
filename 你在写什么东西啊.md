
方格图中的“凸包”可以定义为一个实心的连通块，从其最顶端开始往下走，每一层的左端点变化趋势为单谷，右端点单峰。这样的图形能够保证任意两点间的至少一条最短路径在凸包内。

如果在计数的时候，你划分出来的“重要元素”和“其他元素”之间出现了重叠，那么应该考虑不再寻找“重要元素”，而是用一个更加统一的方法去处理。


## 自己的第一道题 题解

首先，考虑二分答案 $V$，考虑如何判定能否在速度不超过 $V$ 的前提下击回所有的球。

把每一个过来的球画在 $t-x$ 二维平面上，如下：

![[pic1.png]]

注意到，对于一个点 $(x_i,t_i)$ 而言，如果接到了它，那么这个人上一个接的球一定位于一个三角形内，如图：

![[pic2.png]]

其中三角形两条边的斜率为 $\frac{1}{V},-\frac{1}{V}$ .

我们给每个点赋予一个新的坐标，令 $X_i = x_i-V\times t_i,Y_i = t_i+\frac{x_i}{V}$ .

这样，$(x_j,t_j)$ 位于 $(x_i,t_i)$ 对应的三角形内，就等价于 $X_j\geq X_i,Y_j\leq Y_i$ .

现在，每个点向其右下方的点连边，如果能找到不超过 $m+1$ 条链覆盖所有点，就能证明当前的 $V$ 是合法的。

根据 Dilworth 定理，这样一个由偏序关系形成的图的最小链覆盖等于其最长反链。因此，找到最小链覆盖的大小，等价于找到一个最长的序列 $p$，使得 $X_{p_{i-1}}<X_{p_i},Y_{p_{i-1}}<Y_{p_i}$ .

排序后直接二维数点即可，复杂度为 $O(n\log n\log x)$ .