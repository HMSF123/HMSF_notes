---
title: 生成函数学习笔记
updated: 2023-04-12 07:52:40Z
created: 2023-02-12 00:01:33Z
latitude: 36.11550000
longitude: 120.30240000
altitude: 0.0000
---

# Part 0 生成函数的基本介绍

## 生成函数的由来

有的时候我们想表示两个序列的卷积

$$
C_x = \sum_{k=0}^{x} A_k \times B_{x-k}
$$

而这个时候我们注意到对于三个多项式 $P(x)\times Q(x) = T(x)$ 的**系数**有如下的定理：

$$
[x^n]T = \sum_{k=0}^{n} [x^k]P \times [x^{n-k}]Q
$$

> 此处 $[x^k]P$ 表示多项式 $P(x)$ 的第 $k$ 项的系数，下文记号含义同此。

正好就是卷积的形式！

而且我们知道多项式是一个性质很好的东西，可以~~肆意调教~~进行求导、求逆等灵活的变换。所以顺理成章地，我们可以把一个数列的各项分配给多项式的对应项，这样两个序列的**卷积**就可以方便地表达为两个多项式的**相乘**。

于是我们对于一个数列 $A_n$ 搞出了这么一个东西

$$
F(x) = A_0 + A_1 x + A_2 x^2 + A_3 x^3 +\cdots + A_n x^n
$$

这个函数就叫做数列 $A_n$ 的**生成函数**（又称母函数、OGF）。

当然，有的数列会有无穷项，如果继续随意变换的话会导致一些极限方面的问题。

不过生成函数里面的 $x$ 只是一个用来标记系数位置的**形式符号**，我们不会真的去代入求值，所以大可以假设生成函数**永远收敛**。

现在我们可以整理一下对生成函数的各种变换的意义了：

- 一个函数乘上 $x$ ：序列整体后移一位，空位补零
- 一个函数求导：序列整体前移一位并乘上原来的标号，余位删除
- 一个函数积分：序列整体后移一位并除以原来的标号，空位补零
- 两函数相加/减：两个序列对应项加/减
- 两函数相乘：两个序列进行卷积

## 生成函数的封闭形式

演算的时候，我们不希望直接处理生成函数的原式，因为这和直接处理序列本身没有区别。结合生成函数收敛的性质，就有了这种把整个级数“压缩”起来的神奇变换：

假设有一个生成函数 $F(x) = \sum_{k=0}^{+\infin}x^{k}$

由于它有无穷项且收敛，所以下面的这个等式成立：

$$
F(x) = xF(x) + 1
$$

解方程，可以得到

$$
F(x) = \frac{1}{1-x}
$$

这个表达式叫做 $F(x)$ 的**封闭式**，它与前面的**展开式**是完全等价的。

> 可以证明，生成函数的展开式是其封闭式的麦克劳林展开




