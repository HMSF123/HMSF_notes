---
title: day 2 组合计数
updated: 2023-03-27 12:13:39Z
created: 2023-03-27 12:11:47Z
latitude: 35.10467400
longitude: 118.35641400
altitude: 0.0000
---

### AGC060C

就是往左走 $A$ 步的点，往右走 $B$ 步的点，钦定左边的小于右边的。

然后把这条链单独拉出来，尝试用它们之间的大小关系的归并来计数。

$f_{i,j}$ 表示左边链选了 $i$ 个，右边链选了 $j$ 个就行。算方案数用那个外向树拓扑数是 $\frac{n!}{\prod siz_i!}$．

### AGC060D

容斥太高了，GF 太高了。

### AGC059C

充要条件是，对于每个三元组 $x,y,z$ 而言，如果 $(x,y)<(y,z)<(x,z)$（询问时刻），那么一定要满足 $y$ 是最小值或者最大值。

这样子就意味着，对于每个这样的 $(x,y,z)$，都可能会告诉我们 $y<x\Leftrightarrow y>z,y>x\Leftrightarrow y>z$ 所以每个二元组 $(x,y)$ 都建个点 $x>y$，$x<y$，然后像 2-sat 一样连出来若干个连通块，那么答案就是 $2^{cnt/2}$，cnt 是连通块个数。

### AGC054C

### AGC043D

### AGC039E

### AGC036F

容斥很高！

### AGC035E

$i\to i-2,i\to i+k$，一个点集能删除当且仅当生成子图无环。

第一种边把图搞成了奇偶两条链。

那么 $k$ 是偶数就是说链上不能连续 $k/2$ 个都选，这个方案数很好算。

$k$ 是奇数怎么做？性质是环一定是走两个 $+k$，如果 $>2$ 个一定能找出个只走两个 $+k$ 的环。

dp，$f_{i,j,l}$：$j$ 指 $i$ 先不断 $-2$，再 $+k$，再不断 $-2$，能走到的最靠左的位置（如果不断 $-2$ 之后不能 $+k$，就是第一次不断 $-2$ 走到的带你），$l$ 指的是 $i-1$ 那么搞能走到的最靠左的位置。

每次填考虑 $i+1$ 选不选，然后怎么转移？离谱。

### AGC035D

听过做法。

### AGC034F

$[x^n]F(x)$ 第一次变成 $i$ 的概率。$[x^n]G(x)$ 第 $n$ 次后变成 $i$ 的概率。$[x^n]H(x)$ 第 $n$ 次后变成 $0$ 的概率。

$G=FH$．要求的就是 $F'(1)$，然后推式子。

FWT，强大！最后一步要为了避免除0，上下都乘个 $(1-x)^2$．

### AGC030E

脑筋急转弯

### CTT2023 D1T3

![1](Day2.assets/1.png)

方差 = E(X^2^)-E(X)^2^

### CTT2023 D4T3

![2](Day2.assets/2.png)

/fn 大容斥大dp

### QOJ 5169

https://qoj.ac/problem/5169

### QOJ 5089

https://qoj.ac/problem/5089

可环覆盖等价于每个连通块都有一条欧拉回路，也就是所有点度数都是偶数。

然后搞个一维是集合幂级数，一维是生成函数。

再把 FWT 写出来，然后怎么怎么搞搞。

### QOJ 5097

https://qoj.ac/problem/5097

