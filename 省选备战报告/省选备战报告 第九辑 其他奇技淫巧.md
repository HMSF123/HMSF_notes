# Part -1 真·杂项

真的非常难以分类的东西

## 中位数的处理

二分一个中位数的值，判断它在一个集合里面是否为中位数。可以赋 $+1/-1/\,0$ 权值，求和后看看是不是零。

## 绝对值的处理

如果涉及到绝对值和取最大值，可以尝试在数据结构中分别维护 $val$ 和 $-val$ 的信息。

因为我们有如下的性质：

$$
\max\{x,-x\} = |x|
$$

# Part 0 颜色段均摊与珂朵莉树

主要思想：用 `std::set` 维护序列上的连续颜色段，如果遇到修改就暴力把同色段拉出来（需要裂开就暴力裂开），然后直接对拉出来的每个同色段修改。如果有推平操作的话就暴力拉出来扔掉，换一个新的进去。

当且仅当在数据随机、含有推平操作的情况下，它的复杂度才能是 $O(n\log \log n)$ .

