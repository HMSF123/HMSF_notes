一个奇妙的不等式

$$
x\,\text{xor}\, y \leq x+y
$$

前缀线性基里面那个神奇的交换操作为什么是正确的？

考虑把插入等效为消元的过程，那么就相当于有一个老向量和一个新向量，二者都可以用来表示表示同一个位置的最高位1，这个时候尽量选择那个新一些的向量，这样就不会因为l大于老向量的位置而出现pos大于l的位置合在一起不能表示[l,r]的线性基的情况。

当然还要注意一点，像这样插入进来的新向量，第一次就会直接霸占某个位置，把原来的老向量挤下去，这样可以保证对于每个向量而言，消它的都是比它更新的向量（被挤下去的老向量只有遇见比他更新的才会被消，否则会直接霸占在那个位置上）。这样把pos大于等于某个位置的所有向量拿出来，所有参与“消元”这一过程的向量都在l的后面。

所以我们可以重申一遍前缀线性基的基本思路：对于区间[1,R]建立一个特殊的线性基，如果对于某个线性基中的向量i，在得到它的过程中所有参与运算的向量都来自 pos[i] 之后，那么把这个线性基里面所有pos大于L的向量拿出来，在得到它们的过程中参与运算的原始数据也都属于[L,R]这一个区间，那么这一个东西也是区间[L,R]的线性基

> 这里的思路有点类似于群论中的子群，也就是“独自构成一个整体，使得外界向他联系而不是他向外界联系”的思路