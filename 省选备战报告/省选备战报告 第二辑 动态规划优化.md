---
title: 省选备战报告 第二辑 动态规划优化
updated: 2023-03-26 11:39:56Z
created: 2023-02-28 07:52:22Z
latitude: 35.10467400
longitude: 118.35641400
altitude: 0.0000
---

# Part -1 基本术语

首先我们审视一个动态规划的过程，主要有两个部分：

1. 以一定顺序（迭代/搜索/分治）遍历所有状态。
2. 对于每一状态，从一个**有序**集合 $S$ 中挑选出一个元素，利用它计算出本状态的答案。

这个集合叫做决策集合，最终被挑选出来的元素的**下标**叫做最优决策点。

- $x\text D/y\text D$ 动态规划：状态数为 $\Theta(n^x)$，每个状态的决策集合大小为 $\Theta(n^y)$ 的动态规划。

对于一个 $f[a_1,a_2,\cdots] = x$ 而言，$a_k$ 称作“状态”或“维度”，$x$ 称作“DP值”或“记录信息”。

本文中记号 $f[x]$ 表示一个**待填的数表**；记号 $f(x)$ 表示一个可直接计算的**函数**，但还要进一步化简；记号 $a_x$ 表示一个可以直接用的序列，无需计算。

# Part 0 四边形不等式及其衍生结论

## 0.0 1D/1D 四边形不等式

这天，你拿到了一个DP转移方程：

$$
f[i] = \min_{j=1}^{i}\big\{ f[j] + w(j,i) \big\}
$$

你能看出来这是一个 $\text{1D/1D}$ 的动态规划方程，转移他所需要的时间是 $O(n^2)$ 的。

但是这个时候，方程的创造者出现在了你面前，~~毒瘤~~慈悲的他告诉你，他为你创造了一个性质，使得这个方程可以 $O(n\log n)$ 计算完毕。

你恳求他把这个美妙的性质赐予你，但他只告诉你一个古怪的不等式：

$$
l_1<l_2<r_1<r_2 \Leftrightarrow w(l_1,r_1) + w(l_2,r_2) \leq w(l_1,r_2) + w(l_2,r_1)
$$

……并让你自行打表找规律。

打表是不可能打的，我们先来看看这个 DP 的转移。观察对于一个特定的决策位置 $j$ 而言，在 $i$ 不断后移的过程中，它在决策集合里面的权值是一个函数：

$$
F_j(i) = f[j] + w(j,i)
$$

而你每次转移中所做的事情就是挑出最下面的那个函数赋给 $f[i]$ .

我们知道单调性是个好东西，


我们考虑区间动态规划，它的一般形式是这样的：

$$
f[L,R] = \min_{k=L}^{R}\big\{ f[L,k] + f[k+1,R] \big\} + w(L,R)
$$

> 显然这是一个 2D/1D 动态规划。

