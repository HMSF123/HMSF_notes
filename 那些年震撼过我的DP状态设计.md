它们中的每一个都闪耀着人类智慧的光辉。

![](无标题.png)

## ZROI/NFLS 的一道题

**题意**：给出一棵树，给所有点赋上一个排列，若一个点大于它的根链上的所有点，那么称他是合法点。一棵树的权值为 $P$ 的合法点个数次幂。

求所有赋排列的方案中权值的和。

$n\leq5000$ .

**做法**：考虑DP，这种和根链有关的问题，一般DP时每一个状态中纳入考虑的子结构是一个“子树+根链”的形式，这一题也不例外。

设计状态 $f[i,j]$ 表示：拿出 $i$ 为根的子树及其延伸到根的根链，并把 $root\sim fa(i)$ 的一整条根链缩成一个点，此时给这个新图赋上 $1\sim size(i)+1$ 的排列，所有赋值方案的权值之和。

$$
\sum_{p_{1\sim n}}X^{\displaystyle\sum_{u}\left[ \max_{v\in Subtree(u)}\{p_v\}<p_u \right]}
$$

$p_{1\sim n}$ 是一个 $n$ 阶排列，$X\in N^+$ .

## ZROI 的另一道题

**题意**：给出一个数轴和序列 $a_{1\sim n}$，在 $a_i$ 的位置上有一个草丛，每个草丛初始高度为零，一分钟长高一厘米。

一个人在坐标为 $K$ 的位置上，一分钟走一个单位长度，现在他要拔掉所有的草，假设拔草不需要时间，一个草丛被拔掉之后不会再次生长，求被拔掉草的高度总和的最小值。

**做法**：考虑DP解决。

